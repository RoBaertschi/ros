interrupt_stub:
push %rax
push %rbx
push %rcx
push %rdi
push %rdx
push %rsi
push %r8
push %r9
push %r10
push %r11
push %r12
push %r13
push %r14
push %r15

mov %rsp, %rdi
call interrupt_dispatch
mov %rax, %rsp

pop %r15
pop %r14
pop %r13
pop %r12
pop %r11
pop %r10
pop %r9
pop %r8
pop %rsi
pop %rdx
pop %rdi
pop %rcx
pop %rbx
pop %rax

# Remove vector and error code
add $16, %rsp
iret

.global vector_handler_0
.macro isr_no_err_handler num
.align 16
vector_handler_\num :
# Push unused error code
pushq $0
# Push vector number
pushq $\num
jmp interrupt_stub
.endm
.macro isr_err_handler num
.align 16
vector_handler_\num :
# Push vector number
pushq $\num
jmp interrupt_stub
.endm

isr_no_err_handler 0
isr_no_err_handler 1
isr_no_err_handler 2
isr_no_err_handler 3
isr_no_err_handler 4
isr_no_err_handler 5
isr_no_err_handler 6
isr_no_err_handler 7
isr_err_handler 8
isr_no_err_handler 9
isr_err_handler 10
isr_err_handler 11
isr_err_handler 12
isr_err_handler 13
isr_err_handler 14
isr_no_err_handler 15
isr_no_err_handler 16
isr_err_handler 17
isr_no_err_handler 18
isr_no_err_handler 19
isr_no_err_handler 20
isr_no_err_handler 21
isr_no_err_handler 22
isr_no_err_handler 23
isr_no_err_handler 24
isr_no_err_handler 25
isr_no_err_handler 26
isr_no_err_handler 27
isr_no_err_handler 28
isr_no_err_handler 29
isr_err_handler 30
isr_no_err_handler 31
isr_no_err_handler 32
isr_no_err_handler 33
isr_no_err_handler 34
isr_no_err_handler 35
isr_no_err_handler 36
isr_no_err_handler 37
isr_no_err_handler 38
isr_no_err_handler 39
isr_no_err_handler 40
isr_no_err_handler 41
isr_no_err_handler 42
isr_no_err_handler 43
isr_no_err_handler 44
isr_no_err_handler 45
isr_no_err_handler 46
isr_no_err_handler 47
isr_no_err_handler 48
isr_no_err_handler 49
isr_no_err_handler 50
isr_no_err_handler 51
isr_no_err_handler 52
isr_no_err_handler 53
isr_no_err_handler 54
isr_no_err_handler 55
isr_no_err_handler 56
isr_no_err_handler 57
isr_no_err_handler 58
isr_no_err_handler 59
isr_no_err_handler 60
isr_no_err_handler 61
isr_no_err_handler 62
isr_no_err_handler 63
isr_no_err_handler 64
isr_no_err_handler 65
isr_no_err_handler 66
isr_no_err_handler 67
isr_no_err_handler 68
isr_no_err_handler 69
isr_no_err_handler 70
isr_no_err_handler 71
isr_no_err_handler 72
isr_no_err_handler 73
isr_no_err_handler 74
isr_no_err_handler 75
isr_no_err_handler 76
isr_no_err_handler 77
isr_no_err_handler 78
isr_no_err_handler 79
isr_no_err_handler 80
isr_no_err_handler 81
isr_no_err_handler 82
isr_no_err_handler 83
isr_no_err_handler 84
isr_no_err_handler 85
isr_no_err_handler 86
isr_no_err_handler 87
isr_no_err_handler 88
isr_no_err_handler 89
isr_no_err_handler 90
isr_no_err_handler 91
isr_no_err_handler 92
isr_no_err_handler 93
isr_no_err_handler 94
isr_no_err_handler 95
isr_no_err_handler 96
isr_no_err_handler 97
isr_no_err_handler 98
isr_no_err_handler 99
isr_no_err_handler 100
isr_no_err_handler 101
isr_no_err_handler 102
isr_no_err_handler 103
isr_no_err_handler 104
isr_no_err_handler 105
isr_no_err_handler 106
isr_no_err_handler 107
isr_no_err_handler 108
isr_no_err_handler 109
isr_no_err_handler 110
isr_no_err_handler 111
isr_no_err_handler 112
isr_no_err_handler 113
isr_no_err_handler 114
isr_no_err_handler 115
isr_no_err_handler 116
isr_no_err_handler 117
isr_no_err_handler 118
isr_no_err_handler 119
isr_no_err_handler 120
isr_no_err_handler 121
isr_no_err_handler 122
isr_no_err_handler 123
isr_no_err_handler 124
isr_no_err_handler 125
isr_no_err_handler 126
isr_no_err_handler 127
isr_no_err_handler 128
isr_no_err_handler 129
isr_no_err_handler 130
isr_no_err_handler 131
isr_no_err_handler 132
isr_no_err_handler 133
isr_no_err_handler 134
isr_no_err_handler 135
isr_no_err_handler 136
isr_no_err_handler 137
isr_no_err_handler 138
isr_no_err_handler 139
isr_no_err_handler 140
isr_no_err_handler 141
isr_no_err_handler 142
isr_no_err_handler 143
isr_no_err_handler 144
isr_no_err_handler 145
isr_no_err_handler 146
isr_no_err_handler 147
isr_no_err_handler 148
isr_no_err_handler 149
isr_no_err_handler 150
isr_no_err_handler 151
isr_no_err_handler 152
isr_no_err_handler 153
isr_no_err_handler 154
isr_no_err_handler 155
isr_no_err_handler 156
isr_no_err_handler 157
isr_no_err_handler 158
isr_no_err_handler 159
isr_no_err_handler 160
isr_no_err_handler 161
isr_no_err_handler 162
isr_no_err_handler 163
isr_no_err_handler 164
isr_no_err_handler 165
isr_no_err_handler 166
isr_no_err_handler 167
isr_no_err_handler 168
isr_no_err_handler 169
isr_no_err_handler 170
isr_no_err_handler 171
isr_no_err_handler 172
isr_no_err_handler 173
isr_no_err_handler 174
isr_no_err_handler 175
isr_no_err_handler 176
isr_no_err_handler 177
isr_no_err_handler 178
isr_no_err_handler 179
isr_no_err_handler 180
isr_no_err_handler 181
isr_no_err_handler 182
isr_no_err_handler 183
isr_no_err_handler 184
isr_no_err_handler 185
isr_no_err_handler 186
isr_no_err_handler 187
isr_no_err_handler 188
isr_no_err_handler 189
isr_no_err_handler 190
isr_no_err_handler 191
isr_no_err_handler 192
isr_no_err_handler 193
isr_no_err_handler 194
isr_no_err_handler 195
isr_no_err_handler 196
isr_no_err_handler 197
isr_no_err_handler 198
isr_no_err_handler 199
isr_no_err_handler 200
isr_no_err_handler 201
isr_no_err_handler 202
isr_no_err_handler 203
isr_no_err_handler 204
isr_no_err_handler 205
isr_no_err_handler 206
isr_no_err_handler 207
isr_no_err_handler 208
isr_no_err_handler 209
isr_no_err_handler 210
isr_no_err_handler 211
isr_no_err_handler 212
isr_no_err_handler 213
isr_no_err_handler 214
isr_no_err_handler 215
isr_no_err_handler 216
isr_no_err_handler 217
isr_no_err_handler 218
isr_no_err_handler 219
isr_no_err_handler 220
isr_no_err_handler 221
isr_no_err_handler 222
isr_no_err_handler 223
isr_no_err_handler 224
isr_no_err_handler 225
isr_no_err_handler 226
isr_no_err_handler 227
isr_no_err_handler 228
isr_no_err_handler 229
isr_no_err_handler 230
isr_no_err_handler 231
isr_no_err_handler 232
isr_no_err_handler 233
isr_no_err_handler 234
isr_no_err_handler 235
isr_no_err_handler 236
isr_no_err_handler 237
isr_no_err_handler 238
isr_no_err_handler 239
isr_no_err_handler 240
isr_no_err_handler 241
isr_no_err_handler 242
isr_no_err_handler 243
isr_no_err_handler 244
isr_no_err_handler 245
isr_no_err_handler 246
isr_no_err_handler 247
isr_no_err_handler 248
isr_no_err_handler 249
isr_no_err_handler 250
isr_no_err_handler 251
isr_no_err_handler 252
isr_no_err_handler 253
isr_no_err_handler 254
isr_no_err_handler 255
isr_no_err_handler 256
